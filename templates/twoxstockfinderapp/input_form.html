{% extends 'twoxstockfinderapp/base.html' %}

{% block content %}
<div style="margin-top: 20px;">
  <h2>情報入力画面</h2>
</div>
<form method="POST" class="register-form ">{% csrf_token %}
  <div class="row" style="margin-top:30px;">
    <div class="range col-lg-6 offset-md-3">
      {{ form }}
    </div>
  </div>

<!-- 送信（保存）ボタン-->
  <!-- <button type="submit" class="save btn btn-primary offset-md-3" style="margin-top: 30px;">Save</button> -->
  <button id="submitButton" type="submit" class="save btn btn-primary offset-md-3" style="margin-top: 30px;">
    <span id="buttonText">Save</span>
    <span id="loadingSpinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
  </button>
</form>

<!-- スクリプト -->
<script>
  document.getElementById("inputForm").addEventListener("submit", function() {
    let button = document.getElementById("submitButton");
    let text = document.getElementById("buttonText");
    let spinner = document.getElementById("loadingSpinner");

    // ボタンを無効化 & スピナーを表示
    button.disabled = true;
    text.classList.add("d-none"); // "Save" を非表示
    spinner.classList.remove("d-none"); // スピナーを表示
  });
</script>

{% endblock %}
